# Лабораторная работа №4

**Тема:** Проектирование REST API

**Цель работы:** Получить опыт проектирования программного интерфейса.

# Документация по API

[Перейти к тестам](#тестирование-api)

## Содержание

- [0. Общая информация API](#0-общая-информация-api)
  - [0.1. Аутентификация](#01-аутентификация)
  - [0.2. Базовая структура ответа](#02-базовая-структура-ответа)
- [1. Управление аккаунтом](#1-управление-аккаунтом)
  - [1.1. Регистрация пользователя](#11-регистрация-пользователя)
  - [1.2. Получение токена доступа пользователя](#12-получение-токена-доступа-пользователя)
- [2. Управление задачами вручную](#2-управление-задачами-вручную)
  - [2.1. Создание задачи вручную](#21-создание-задачи-вручную)
  - [2.2. Получить одну задачу](#22-получить-одну-задачу)
  - [2.3. Получить список всех задач (с фильтрацией)](#23-получить-список-всех-задач-с-фильтрацией)
  - [2.4. Обновление задачи вручную](#24-обновление-задачи-вручную)
  - [2.5. Частичное обновление задачи](#25-частичное-обновление-задачи)
  - [2.6. Удаление задачи](#26-удаление-задачи)
- [3. Управление голосовыми запросами](#3-управление-голосовыми-запросами)
  - [3.1. Отправка голосовой команды](#31-отправка-голосовой-команды)
  - [3.2. Проверка статуса обработки голосового сообщения](#32-проверка-статуса-обработки-голосового-сообщения)
  - [3.3. Редактирование голосового запроса](#33-редактирование-голосового-запроса)
  - [3.4. Подтверждение голосового запроса](#34-подтверждение-голосового-запроса)
  - [3.5. Отмена голосового запроса](#35-отмена-голосового-запроса)

## 0. Общая информация API

### 0.1 Аутентификация

Все защищённые эндпоинты API требуют заголовок:

Authorization: Bearer <access_token>

Токен получается при успешной аутентификации пользователя.

### 0.2 Базовая структура ответа

Все ответы API возвращаются в единой базовой структуре, состоящей из обязательных и опциональных полей.

**Успешный ответ**

```json
{
	"success": "boolean",
	"data": { /* Основной payload */ },
	"meta": {
		"requestId": "string",
		"timestamp": "ISO8601 timestamp"
	}
}
```

**Ответ с ошибкой**

```json
{
	"success": "boolean",
	"meta": {
		"requestId": "string",
		"timestamp": "ISO8601 timestamp"
	},
	"error": {
		"code": "string",           /* Машинный идентификатор */
		"message": "string",        /* Человекочитаемый текст ошибки */
		"fields": { } (optional)    /* Поля с проблемными данными (если есть) */
	}
}
```

**Поля ответа:**

| Поле               | Тип             | Описание                      | Формат/Пример                                                                |
| ------------------ | --------------- | ----------------------------- | ---------------------------------------------------------------------------- |
| **success**        | boolean         | Флаг успешности запроса       | `true` / `false`                                                             |
| **data**           | object / string | Основные данные ответа        | Зависит от эндпоинта                                                         |
| **meta.requestId** | string          | Уникальный ID запроса         | `"0HNIRS67E07AL:00000001"`                                                   |
| **meta.timestamp** | string          | Время формирования ответа     | ISO 8601 с миллисекундами и таймзоной: `"2026-01-25T07:15:45.6684952+00:00"` |
| **error.code**     | string          | Машинный код ошибки           | `"UNAUTHORIZED"`                                                             |
| **error.message**  | string          | Человекочитаемый текст ошибки | `"Неверный формат email"`                                                    |
| **error.fields**   | object          | Проблемные поля с ошибками    | `{"email": "Поле обязательно"}`                                              |

## 1. Управление аккаунтом
### 1.1. Регистрация пользователя

#### `POST /api/v1/auth/register`

**Описание:**  
Регистрация нового пользователя. Возвращает id пользователя.

**Параметры запроса (JSON):**

| Параметр | Тип    | Обязательный | Описание              |
| -------- | ------ | ------------ | --------------------- |
| UserName | string | да           | Username пользователя |
| Email    | string | да           | Email пользователя    |
| Password | string | да           | Пароль пользователя   |
| Name     | string | да           | Имя пользователя      |

**Пример запроса:**

```bash
curl --location 'http://localhost:3000/api/v1/auth/register' \
--header 'Content-Type: application/json' \
--data-raw '{
    "UserName": "testuser",
    "Email": "test@example.com",
    "Password": "Password123!",
    "Name": "Test User"
}'
```

**Пример ответа `201 Created`**

```json
{
	"success": true,
	"data": "7f3b8893-ac1e-476b-82c1-196065d75fd9",
	"meta": {
		"requestId": "0HNIRS67E07AL:00000001",
		"timestamp": "2026-01-25T07:15:45.6684952+00:00"
	}
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                   | Формат/Пример                                                                |
| ------------------ | ------- | -------------------------- | ---------------------------------------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса    | `true` / `false`                                                             |
| **meta.requestId** | string  | Уникальный ID запроса      | `"0HNIRS67E07AL:00000001"`                                                   |
| **meta.timestamp** | string  | Время формирования ответа  | ISO 8601 с миллисекундами и таймзоной: `"2026-01-25T07:15:45.6684952+00:00"` |
| **data**           | string  | Id созданного пользователя | uuid                                                                         |
### Блок ошибок

| HTTP статус | `error.code`            | `error.message`                       | Описание                                 |
| ----------- | ----------------------- | ------------------------------------- | ---------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Ошибка валидации параметров"         | Некорректные или отсутствующие параметры |
| 409         | `USER_EXISTS`           | "Пользователь уже существует"         | Username или Email уже зарегистрированы  |
| 422         | `WEAK_PASSWORD`         | "Пароль не соответствует требованиям" | Пароль не проходит политику безопасности |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"           | Неожиданная ошибка сервера               |

### 1.2. Получение токена доступа пользователя
#### `POST /api/v1/auth/login`

**Описание:**  
Вход пользователя. Возвращает JWT токен.

**Параметры запроса (JSON):**

| Параметр | Тип    | Обязательный | Описание              |
| -------- | ------ | ------------ | --------------------- |
| Username | string | да           | Username пользователя |
| Password | string | да           | Пароль пользователя   |

**Пример запроса:**

```bash
curl --location 'http://localhost:3000/api/v1/auth/login' \
--header 'Content-Type: application/json' \
--data '{
    "Username": "testuser",
    "Password": "Password123!"
}'
```

**Пример ответа `200 OK`**

```json
{
	"success": true,
	"data": "JWT_TOKEN_STRING",
	"meta": {
		"requestId": "0HNIRS67E07AL:00000001",
		"timestamp": "2026-01-25T07:15:45.6684952+00:00"
	}
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                  | Формат/Пример                                                                |
| ------------------ | ------- | ------------------------- | ---------------------------------------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса   | `true` / `false`                                                             |
| **meta.requestId** | string  | Уникальный ID запроса     | `"0HNIRS67E07AL:00000001"`                                                   |
| **meta.timestamp** | string  | Время формирования ответа | ISO 8601 с миллисекундами и таймзоной: `"2026-01-25T07:15:45.6684952+00:00"` |
| **data**           | string  | Токен доступа             | `"***.*******.****"`                                                         |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`               | Описание                                 |
| ----------- | ----------------------- | ----------------------------- | ---------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Ошибка валидации параметров" | Некорректные или отсутствующие параметры |
| 401         | `UNAUTHORIZED`          | "Неверный логин или пароль"   | Ошибка авторизации, данные не совпадают  |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"   | Неожиданная ошибка сервера               |

---
## 2. Управление задачами вручную
### 2.1. Создание задачи вручную
#### `POST /api/v1/tasks`

**Описание:**  
Создание новой задачи. Позволяет указать проект, заголовок, описание, статус, приоритет, дедлайн, теги и родительскую задачу.

**Параметры запроса (JSON):**  

| Параметр     | Тип    | Обязательный | Описание                                                                 |
| ------------ | ------ | ------------ | ------------------------------------------------------------------------ |
| title        | string | да           | Заголовок задачи                                                         |
| projectName  | string | нет          | Название проекта                                                         |
| description  | string | нет          | Подробное описание задачи                                                |
| status       | string | нет          | Статус задачи (`new`, `in_progress`, `done`, `canceled`)                 |
| priority     | string | нет          | Приоритет задачи (`low`, `medium`, `high`)                               |
| dueDate      | string | нет          | Дата и время дедлайна в формате ISO 8601                                 |
| tags         | string | нет          | Список тегов задачи через разделитель (пробел, запятая, точка с запятой) |
| parentTaskId | string | нет          | UUID родительской задачи, если задача вложенная                          |
Пример запроса:

```bash
curl --location 'http://localhost:3000/api/v1/tasks' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <access_token>' \
--data '{
	"projectName": "Проект А",
	"title": "Сделать отчет",
	"description": "Подготовить отчет по лабораторной работе",
	"status": "new",
	"priority": "high",
	"dueDate": "2025-12-30T18:00:00Z",
    "tags": "asd",
    "parentTaskId": null
}'
```

**Пример ответа (JSON) `201 Created`:**

```json
{
	"success": true,
	"data": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
	"meta": {
		"requestId": "0HNIRS67E07AL:00000001",
		"timestamp": "2026-01-25T07:15:45.6684952+00:00"
	}
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                  | Формат/Пример                                                                |
| ------------------ | ------- | ------------------------- | ---------------------------------------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса   | `true` / `false`                                                             |
| **meta.requestId** | string  | Уникальный ID запроса     | `"0HNIRS67E07AL:00000001"`                                                   |
| **meta.timestamp** | string  | Время формирования ответа | ISO 8601 с миллисекундами и таймзоной: `"2026-01-25T07:15:45.6684952+00:00"` |
| **data**           | string  | UUID созданной задачи     | `"f47ac10b-58cc-4372-a567-0e02b2c3d479"`                                     |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`               | Описание                              |
| ----------- | ----------------------- | ----------------------------- | ------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Ошибка валидации параметров" | Ошибка валидации параметров           |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"       | Отсутствует или недействителен токен. |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"   | Неожиданная ошибка сервера.           |

---

### 2.2. Получить одну задачу

#### `GET /api/v1/tasks/{taskId}`

**Описание:**  
Возвращает данные конкретной задачи по её идентификатору.

**Параметры запроса:**

| Параметр | Тип    | Обязательный | Описание    |
| -------- | ------ | ------------ | ----------- |
| taskId   | string | да           | UUID задачи |

**Пример запроса (cURL):**

```bash
curl --location 'http://localhost:3000/api/v1/tasks/7f3b8893-ac1e-476b-82c1-196065d75fd9' \
--header 'Authorization: Bearer <access_token>'
```

**Пример ответа (JSON) `200 Ok`:**

```json
{
    "data": {
        "title": "Сделать отчет",
        "projectName": "Проект B",
        "description": "Подготовить отчет по лабораторной работе",
        "status": "new",
        "priority": "Проект B",
        "tags": "asd ear sde",
        "dueDate": "2025-12-30T18:00:00+00:00",
        "createdAt": "2026-01-24T14:42:35.853197+00:00",
        "updatedAt": "2026-01-24T14:43:37.646374+00:00",
        "parentTaskId": ""
    },
    "success": true,
    "meta": {
        "requestId": "0HNIRSRD3RV9V:00000001",
        "timestamp": "2026-01-25T11:42:25.6312643+00:00"
    }
}
```

**Поля ответа:**

| Поле                  | Тип     | Описание                   | Формат/Пример                                                                  |
| --------------------- | ------- | -------------------------- | ------------------------------------------------------------------------------ |
| **success**           | boolean | Флаг успешности запроса    | `true` / `false`                                                               |
| **meta.requestId**    | string  | Уникальный ID запроса      | `"0HNIRSRD3RV9V:00000001"`                                                     |
| **meta.timestamp**    | string  | Время формирования ответа  | ISO 8601 с миллисекундами и таймзоной: `"2026-01-25T11:42:25.6312643+00:00"`   |
| **data.title**        | string  | Заголовок задачи           | `"Сделать отчет"`                                                              |
| **data.projectName**  | string  | Название проекта           | `"Проект B"`                                                                   |
| **data.description**  | string  | Подробное описание задачи  | `"Подготовить отчет по лабораторной работе"`                                   |
| **data.status**       | string  | Статус задачи              | `"new" / "in_progress" / "done" / "canceled"`                                  |
| **data.priority**     | string  | Приоритет задачи           | `"low" / "medium" / "high"`                                                    |
| **data.tags**         | string  | Теги задачи                | Строка с разделителями пробелом, запятой или точкой с запятой: `"asd ear sde"` |
| **data.dueDate**      | string  | Дата и время дедлайна      | ISO 8601: `"2025-12-30T18:00:00+00:00"`                                        |
| **data.createdAt**    | string  | Дата создания задачи       | ISO 8601: `"2026-01-24T14:42:35.853197+00:00"`                                 |
| **data.updatedAt**    | string  | Дата последнего обновления | ISO 8601: `"2026-01-24T14:43:37.646374+00:00"`                                 |
| **data.parentTaskId** | string  | UUID родительской задачи   | Пустая строка, если нет родителя: `""`                                         |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`                    | Описание                                      |
| ----------- | ----------------------- | ---------------------------------- | --------------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Неверный формат taskId"           | Некорректный UUID.                            |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"            | Отсутствует или недействителен токен.         |
| 403         | `FORBIDDEN`             | "Нет доступа к этой задаче"        | Попытка получить задачу другого пользователя. |
| 404         | `NOT_FOUND`             | "Задача с указанным ID не найдена" | Задачи с таким `taskId` не существует.        |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"        | Неожиданная ошибка сервера.                   |

---

### 2.3. Получить список всех задач (с фильтрацией)

#### `GET /api/v1/tasks`

**Описание:**  
Возвращает список задач пользователя. Можно фильтровать по статусу, приоритету, проекту или дедлайну, а также сортировать и ограничивать количество результатов на страницу.

**Параметры запроса (query string):**

| Параметр    | Тип    | Обязательный | Описание                                                     |
| ----------- | ------ | ------------ | ------------------------------------------------------------ |
| status      | string | нет          | Фильтр по статусу задачи (`new`, `in_progress`, `done`)      |
| priority    | string | нет          | Фильтр по приоритету (`low`, `medium`, `high`)               |
| projectName | string | нет          | Фильтр по названию проекта                                   |
| dueBefore   | string | нет          | Задачи с дедлайном до указанной даты (ISO 8601)              |
| dueAfter    | string | нет          | Задачи с дедлайном после указанной даты (ISO 8601)           |
| sortBy      | string | нет          | Поле сортировки (`dueDate`, `priority`, `title`)             |
| sortOrder   | string | нет          | Порядок сортировки (`ASC`, `DESC`)                           |
| limit       | int    | нет          | Количество задач на страницу (по умолчанию 20, максимум 100) |
| page        | int    | нет          | Номер страницы (начиная с 0)                                 |


**Пример запроса (cURL):**

```bash
curl --location 'http://localhost:3000/api/v1/tasks?status=new&priority=high&sortBy=ownerId&sortOrder=DESC&limit=5&page=0' \
--header 'Authorization: Bearer <access_token>'
```

**Пример ответа (JSON) `200 Ok`:**

```json
{
    "data": {
        "tasks": [
            {
                "taskId": "7f3b8893-ac1e-476b-82c1-196065d75fd9",
                "projectName": "Проект B",
                "title": "Сделать отчет",
                "description": "Подготовить отчет по лабораторной работе",
                "status": "new",
                "priority": "high",
                "tags": "asd ear sde",
                "dueDate": "2025-12-30T18:00:00+00:00",
                "createdAt": "2026-01-24T14:42:35.853197+00:00",
                "updatedAt": "2026-01-24T14:43:37.646374+00:00",
                "parentTaskId": null
            }
        ],
        "pagination": {
            "limit": 5,
            "page": 0,
            "total": 1,
            "totalPages": 1
        }
    },
    "success": true,
    "meta": {
        "requestId": "0HNIRSRD3RV9T:00000002",
        "timestamp": "2026-01-25T11:24:00.8200181+00:00"
    }
}
```

**Поле ответа:**

| Поле                           | Тип     | Описание                   | Формат/Пример                                                                  |
| ------------------------------ | ------- | -------------------------- | ------------------------------------------------------------------------------ |
| **success**                    | boolean | Флаг успешности запроса    | `true` / `false`                                                               |
| **meta.requestId**             | string  | Уникальный ID запроса      | `"0HNIRSRD3RV9T:00000002"`                                                     |
| **meta.timestamp**             | string  | Время формирования ответа  | ISO 8601 с миллисекундами и таймзоной: `"2026-01-25T11:24:00.8200181+00:00"`   |
| **data.tasks**                 | array   | Список задач               | См. пример выше                                                                |
| **data.tasks[].taskId**        | string  | UUID задачи                | `"7f3b8893-ac1e-476b-82c1-196065d75fd9"`                                       |
| **data.tasks[].projectName**   | string  | Название проекта           | `"Проект B"`                                                                   |
| **data.tasks[].title**         | string  | Заголовок задачи           | `"Сделать отчет"`                                                              |
| **data.tasks[].description**   | string  | Подробное описание задачи  | `"Подготовить отчет по лабораторной работе"`                                   |
| **data.tasks[].status**        | string  | Статус задачи              | `"new" / "in_progress" / "done" / "canceled"`                                  |
| **data.tasks[].priority**      | string  | Приоритет задачи           | `"low" / "medium" / "high"`                                                    |
| **data.tasks[].tags**          | string  | Теги задачи                | Строка с разделителями пробелом, запятой или точкой с запятой: `"asd ear sde"` |
| **data.tasks[].dueDate**       | string  | Дата и время дедлайна      | ISO 8601: `"2025-12-30T18:00:00+00:00"`                                        |
| **data.tasks[].createdAt**     | string  | Дата создания задачи       | ISO 8601: `"2026-01-24T14:42:35.853197+00:00"`                                 |
| **data.tasks[].updatedAt**     | string  | Дата последнего обновления | ISO 8601: `"2026-01-24T14:43:37.646374+00:00"`                                 |
| **data.tasks[].parentTaskId**  | string  | UUID родительской задачи   | `null` если задачи нет родителя                                                |
| **data.pagination.limit**      | int     | Лимит задач на страницу    | `5`                                                                            |
| **data.pagination.page**       | int     | Текущая страница           | `0`                                                                            |
| **data.pagination.total**      | int     | Общее количество задач     | `1`                                                                            |
| **data.pagination.totalPages** | int     | Общее количество страниц   | `1`                                                                            |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`                  | Описание                                              |
| ----------- | ----------------------- | -------------------------------- | ----------------------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Некорректные параметры запроса" | Например, неизвестный статус или неверный формат даты |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"          | Отсутствует или недействителен токен.                 |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"      | Неожиданная ошибка сервера                            |

---
### 2.4. Обновление задачи вручную

#### `PUT /api/v1/tasks/{taskId}`

**Описание:**  
Полное обновление существующей задачи. Все переданные поля заменяют текущие значения.

**Параметры запроса:**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|taskId|string (GUID)|да|ID задачи|

**Параметры запроса (JSON):**

| Параметр     | Тип    | Обязательный | Описание                                                 |
| ------------ | ------ | ------------ | -------------------------------------------------------- |
| projectName  | string | нет          | Название проекта                                         |
| title        | string | да           | Заголовок задачи                                         |
| description  | string | нет          | Подробное описание задачи                                |
| status       | string | да           | Статус задачи (`new`, `in_progress`, `done`, `canceled`) |
| priority     | string | да           | Приоритет задачи (`low`, `medium`, `high`)               |
| dueDate      | string | нет          | Дата и время дедлайна в формате ISO 8601                 |
| tags         | string | нет          | Теги задачи через пробел, запятую или точку с запятой    |
| parentTaskId | string | нет          | UUID родительской задачи или `null`                      |

**Пример запроса (cURL):**

```bash
curl --location --request PUT 'http://localhost:3000/api/v1/tasks/7f3b8893-ac1e-476b-82c1-196065d75fd9' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <access_token>' \
--data '{
	"projectName": "Проект А",
	"title": "Сделать отчет",
	"description": "Подготовить отчет по лабораторной работе",
	"status": "new",
	"priority": "high",
	"dueDate": "2025-12-30T18:00:00Z",
    "tags": "asd ear",
    "parentTaskId": null
}'
```

**Пример ответа (JSON) `200 OK`:**

```json
{
    "data": "7f3b8893-ac1e-476b-82c1-196065d75fd9",
    "success": true,
    "meta": {
        "requestId": "0HNIRSRD3RVA1:00000001",
        "timestamp": "2026-01-25T11:58:56.9019277+00:00"
    }
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                  | Формат/Пример                                   |
| ------------------ | ------- | ------------------------- | ----------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса   | `true` / `false`                                |
| **meta.requestId** | string  | Уникальный ID запроса     | `"0HNIRSRD3RVA1:00000001"`                      |
| **meta.timestamp** | string  | Время формирования ответа | ISO 8601: `"2026-01-25T11:58:56.9019277+00:00"` |
| **data**           | string  | UUID обновлённой задачи   | `"7f3b8893-ac1e-476b-82c1-196065d75fd9"`        |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`               | Описание                           |
| ----------- | ----------------------- | ----------------------------- | ---------------------------------- |
| 400         | `INVALID_PARAMS`        | "Ошибка валидации параметров" | Некорректные данные                |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"       | Нет / неверный токен               |
| 403         | `FORBIDDEN`             | "Нет доступа к задаче"        | Задача не принадлежит пользователю |
| 404         | `NOT_FOUND`             | "Задача не найдена"           | Неверный taskId                    |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"   | Ошибка сервера                     |

---

### 2.5. Частичное обновление задачи

#### `PATCH /api/v1/tasks/{taskId}`

**Описание:**  
Позволяет обновить отдельные поля существующей задачи. Переданные поля заменяют текущие значения, остальные остаются без изменений.

**Параметры запроса (path):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|taskId|string|да|UUID задачи|

**Параметры запроса (JSON):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|projectName|string|нет|Название проекта|
|title|string|нет|Заголовок задачи|
|description|string|нет|Подробное описание задачи|
|status|string|нет|Статус задачи (`new`, `in_progress`, `done`, `canceled`)|
|priority|string|нет|Приоритет задачи (`low`, `medium`, `high`)|
|dueDate|string|нет|Дата и время дедлайна в формате ISO 8601|
|tags|string|нет|Теги задачи через пробел, запятую или точку с запятой|
|parentTaskId|string|нет|UUID родительской задачи или `null`|

**Пример запроса (cURL):**

```bash
curl --location --request PATCH 'http://localhost:3000/api/v1/tasks/7f3b8893-ac1e-476b-82c1-196065d75fd9' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <access_token>' \
--data '{
    "projectName": "Проект B",
    "tags": "asd ear sde"
}'
```

**Пример ответа (JSON) `200 OK`:**

```json
{
    "success": true,
    "data": "7f3b8893-ac1e-476b-82c1-196065d75fd9",
    "meta": {
        "requestId": "0HNIRSRD3RVAP:00000001",
        "timestamp": "2026-01-25T12:15:42.1234567+00:00"
    }
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                  | Формат/Пример                                   |
| ------------------ | ------- | ------------------------- | ----------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса   | `true` / `false`                                |
| **meta.requestId** | string  | Уникальный ID запроса     | `"0HNIRSRD3RVAP:00000001"`                      |
| **meta.timestamp** | string  | Время формирования ответа | ISO 8601: `"2026-01-25T12:15:42.1234567+00:00"` |
| **data**           | string  | UUID обновлённой задачи   | `"7f3b8893-ac1e-476b-82c1-196065d75fd9"`        |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`               | Описание                           |
| ----------- | ----------------------- | ----------------------------- | ---------------------------------- |
| 400         | `INVALID_PARAMS`        | "Ошибка валидации параметров" | Некорректные данные                |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"       | Нет / неверный токен               |
| 403         | `FORBIDDEN`             | "Нет доступа к задаче"        | Задача не принадлежит пользователю |
| 404         | `NOT_FOUND`             | "Задача не найдена"           | Неверный `taskId`                  |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"   | Ошибка сервера                     |

---
### 2.6. Удаление задачи

#### `DELETE /api/v1/tasks/{taskId}`

**Описание:**  
Удаляет задачу по её UUID. После удаления задача становится недоступной.

**Параметры запроса (path):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|taskId|string|да|UUID задачи|

**Пример запроса (cURL):**

```bash
curl --location --request DELETE 'http://localhost:3000/api/v1/tasks/7f3b8893-ac1e-476b-82c1-196065d75fd9' \
--header 'Authorization: Bearer <access_token>'
```

**Пример ответа (JSON) `200 OK`:**

```json
{
    "success": true,
    "data": "7f3b8893-ac1e-476b-82c1-196065d75fd9",
    "meta": {
        "requestId": "0HNIRSRD3RVA3:00000001",
        "timestamp": "2026-01-25T12:04:02.2560007+00:00"
    }
}
```

**Поля ответа:**

|Поле|Тип|Описание|Формат/Пример|
|---|---|---|---|
|**success**|boolean|Флаг успешности запроса|`true` / `false`|
|**meta.requestId**|string|Уникальный ID запроса|`"0HNIRSRD3RVA3:00000001"`|
|**meta.timestamp**|string|Время формирования ответа|ISO 8601: `"2026-01-25T12:04:02.2560007+00:00"`|
|**data**|string|UUID удалённой задачи|`"7f3b8893-ac1e-476b-82c1-196065d75fd9"`|

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`             | Описание                              |
| ----------- | ----------------------- | --------------------------- | ------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Неверный формат taskId"    | Некорректный UUID                     |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"     | Нет / неверный токен                  |
| 403         | `FORBIDDEN`             | "Нет доступа к задаче"      | Задача не принадлежит пользователю    |
| 404         | `NOT_FOUND`             | "Задача не найдена"         | Задачи с таким `taskId` не существует |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера" | Ошибка сервера                        |

---

## 3. Управление голосовыми запросами
### 3.1. Отправка голосовой команды

#### `POST /api/v1/tasks/voice`

**Описание:**  
Создание новой задачи на основе голосовой команды. Пользователь отправляет аудиофайл, система распознаёт текст, извлекает намерение и сущности, после чего создаёт задачу.

**Параметры запроса (multipart/form-data):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|audioFile|file|да|Аудиофайл с голосовой командой|

**Пример запроса (cURL):**

```bash
curl --location 'http://localhost:3000/api/v1/tasks/voice' \
--header 'Authorization: Bearer <access_token>' \
--form 'audioFile=@command.mp3'
```

**Пример ответа (JSON) `202 Accepted`:**

```json
{
    "success": true,
    "data": "a1b2c3d4-e5f6-7890-1234-56789abcdef0",
    "meta": {
        "requestId": "0HNIRSRD3RVAV:00000001",
        "timestamp": "2026-01-25T12:45:00.1234567+00:00"
    }
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                           | Формат/Пример                                   |
| ------------------ | ------- | ---------------------------------- | ----------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса            | `true` / `false`                                |
| **meta.requestId** | string  | Уникальный ID запроса              | `"0HNIRSRD3RVAV:00000001"`                      |
| **meta.timestamp** | string  | Время формирования ответа          | ISO 8601: `"2026-01-25T12:45:00.1234567+00:00"` |
| **data**           | string  | UUID созданного голосового запроса | `"a1b2c3d4-e5f6-7890-1234-56789abcdef0"`        |

**Блок ошибок:**

| HTTP статус | `error.code`             | `error.message`                            | Описание                                                       |
| ----------- | ------------------------ | ------------------------------------------ | -------------------------------------------------------------- |
| 400         | `INVALID_AUDIO_FILE`     | "Файл отсутствует или неверный формат"     | Файл не отправлен или неподдерживаемый формат                  |
| 415         | `UNSUPPORTED_MEDIA_TYPE` | "Неподдерживаемый тип файла"               | Файл не соответствует допустимым типам (например не .ogg/.mp3) |
| 401         | `UNAUTHORIZED`           | "Требуется авторизация или неверный токен" | Токен отсутствует или недействителен                           |
| 500         | `INTERNAL_SERVER_ERROR`  | "Внутренняя ошибка сервера"                | Любая неожиданная ошибка на сервере                            |

---
### 3.2. Проверка статуса обработки голосового сообщения
#### `GET /api/v1/tasks/voice/requests/{commandRequestId}/status`

**Описание:**  
Проверка статуса обработки голосового сообщения. Возвращает результат обработки, если команда распознана и обработана.

**Параметры запроса:**

| Параметр         | Тип           | Обязательный | Описание   |
| ---------------- | ------------- | ------------ | ---------- |
| commandRequestId | string (GUID) | да           | ID запроса |

**Пример запроса (cURL):**

```bash
curl --location 'https://api.com/api/v1/tasks/voice/requests/a1b2c3d4-e5f6-7890-1234-56789abcdef0/status' \
--header 'Authorization: Bearer <access_token>'
```

#### Возможные значения `intent` в ответе:

| `intent`      | Описание                                  |
| ------------- | ----------------------------------------- |
| `TASK_CREATE` | Создание новой задачи                     |
| `TASK_UPDATE` | Обновление существующей задачи            |
| `TASK_DELETE` | Удаление задачи                           |
| `TASK_QUERY`  | Запрос информации о задаче                |
| `UNKNOWN`     | Намерение не распознано                   |
| `AMBIGUOUS`   | Недостаточно данных / несколько вариантов |

**Пример ответа (JSON) `200 Ok`:**

#### `TASK_CREATE`

```json
{
	"success": true,
	"data": {
		"intent": "TASK_CREATE",
		"payload": {
			"title": "Сделать отчет",
			"description": "Подготовить отчет по лабораторной работе",
			"status": "new",
			"priority": "high",
			"dueDate": "2025-12-30T18:00:00Z",
			"message": "Задача успешно создана",
			"confirmationRequired": true
		}
	},
	"meta": {
		"requestId": "0HNIRSRD3RVAZ:00000001",
		"timestamp": "2026-01-25T13:10:10.1234567+00:00"
	}
}
```

#### `TASK_UPDATE`

```json
{
	"success": true,
	"data": {
		"intent": "TASK_UPDATE",
		"payload": {
			"proposedChanges": {
				"dueDate": "2025-12-30T18:00:00Z"
			},
			"confirmationRequired": true
		}
	},
	"meta": {
		"requestId": "0HNIRSRD3RVAZ:00000001",
		"timestamp": "2026-01-25T13:10:10.1234567+00:00"
	}
}
```

#### `TASK_DELETE`

```json
{
	"success": true,
	"data": {
		"intent": "TASK_DELETE",
		"payload": {
			"confirmationRequired": true
		}
	},
	"meta": {
		"requestId": "0HNIRSRD3RVAZ:00000001",
		"timestamp": "2026-01-25T13:10:10.1234567+00:00"
	}
}
```

#### `TASK_QUERY`

```json
{
	"success": true,
	"data": {
		"intent": "TASK_QUERY",
		"payload": {
			"tasks": [
				{
					"taskId": "a1b2c3d4-e5f6-7890-1234-56789abcdef0",
					"title": "Сделать отчет",
					"description": "Подготовить отчет по лабораторной работе",
					"projectName": "Учебный проект",
					"status": "new",
					"priority": "high",
					"dueDate": "2025-12-30T18:00:00Z",
					"createdAt": "2025-12-10T18:00:00Z",
					"updatedAt": "2025-12-10T18:00:00Z"
				},
				{
					"taskId": "b2c3d4e5-f6g7-8901-2345-6789abcdef01",
					"title": "Подготовить презентацию",
					"description": "Сделать слайды для семинара",
					"projectName": "Учебный проект",
					"status": "in_progress",
					"priority": "medium",
					"dueDate": "2025-12-28T12:00:00Z",
					"createdAt": "2025-12-10T18:00:00Z",
					"updatedAt": "2025-12-10T18:00:00Z"
				}
			]
		}
	},
	"meta": {
		"requestId": "0HNIRSRD3RVAZ:00000001",
		"timestamp": "2026-01-25T13:10:10.1234567+00:00"
	}
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                                                                                                   |
| ------------------ | ------- | ---------------------------------------------------------------------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса                                                                                    |
| **data.intent**    | string  | Распознанное намерение (`TASK_CREATE`, `TASK_UPDATE`, `TASK_DELETE`, `TASK_QUERY`, `UNKNOWN`, `AMBIGUOUS`) |
| **data.payload**   | object  | Данные, соответствующие намерению                                                                          |
| **meta.requestId** | string  | Уникальный ID запроса                                                                                      |
| **meta.timestamp** | string  | Время формирования ответа (ISO 8601)                                                                       |
#### Поля `payload` по типу `intent`

##### TASK_CREATE

|Поле|Тип|Описание|
|---|---|---|
|title|string|Заголовок создаваемой задачи|
|description|string|Подробное описание задачи|
|status|string|Статус задачи (`new`, `in_progress`, `done`, `canceled`)|
|priority|string|Приоритет задачи (`low`, `medium`, `high`)|
|dueDate|string|Дата и время дедлайна (ISO 8601)|
|message|string|Сообщение о результате обработки|
|confirmationRequired|boolean|Требуется ли подтверждение пользователем для создания задачи|

##### TASK_UPDATE

|Поле|Тип|Описание|
|---|---|---|
|proposedChanges|object|Предлагаемые изменения (ключ — поле задачи, значение — новое значение)|
|confirmationRequired|boolean|Требуется ли подтверждение пользователя для внесения изменений|

##### TASK_DELETE

|Поле|Тип|Описание|
|---|---|---|
|confirmationRequired|boolean|Требуется ли подтверждение пользователя для удаления задачи|

##### TASK_QUERY

|Поле|Тип|Описание|
|---|---|---|
|tasks|array|Список задач, соответствующих запросу|
|tasks[].taskId|string|UUID задачи|
|tasks[].title|string|Заголовок задачи|
|tasks[].description|string|Описание задачи|
|tasks[].projectName|string|Название проекта|
|tasks[].status|string|Статус задачи (`new`, `in_progress`, `done`, `canceled`)|
|tasks[].priority|string|Приоритет задачи (`low`, `medium`, `high`)|
|tasks[].dueDate|string|Дата и время дедлайна (ISO 8601)|
|tasks[].createdAt|string|Дата создания задачи (ISO 8601)|
|tasks[].updatedAt|string|Дата последнего обновления задачи (ISO 8601)|

##### UNKNOWN / AMBIGUOUS

|Поле|Тип|Описание|
|---|---|---|
|message|string|Текстовое сообщение, поясняющее ситуацию|

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`                            | Описание                                        |
| ----------- | ----------------------- | ------------------------------------------ | ----------------------------------------------- |
| 404         | `NOT_FOUND`             | "Запрос с указанным ID не найден"          | Нет запроса с таким `commandRequestId`.         |
| 202         | `PENDING`               | "Запрос еще обрабатывается"                | Запрос ещё в обработке; данные пока недоступны. |
| 400         | `INVALID_PARAMS`        | "Неверный формат commandRequestId"         | Некорректный UUID или пустое значение.          |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация или неверный токен" | Токен отсутствует или недействителен.           |
| 403         | `FORBIDDEN`             | "Нет доступа к этому запросу"              | Пользователь пытается получить чужой запрос.    |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"                | Любая неожиданная ошибка на сервере.            |

---
### 3.3. Редактирование голосового запроса

#### `PATCH /api/v1/tasks/voice/requests/{commandRequestId}`

**Описание:**  
Частичное редактирование существующего запроса голосовой команды. Пользователь указывает `intent` и в `payload` только те поля, которые хочет изменить. Структура `payload` зависит от `intent`.

**Параметры запроса (path):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|commandRequestId|string (GUID)|да|UUID голосового запроса|

**Параметры запроса (JSON):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|intent|string|да|Намерение запроса (`TASK_CREATE`, `TASK_UPDATE`, `TASK_DELETE`, `TASK_QUERY`)|
|payload|object|да|Поля для редактирования. Структура зависит от `intent`.|

**Пример запроса (PATCH, cURL):**

```bash
curl --location --request PATCH 'https://api.com/api/v1/tasks/voice/requests/a1b2c3d4-e5f6-7890-1234-56789abcdef0' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <access_token>' \
--data '{
    "intent": "TASK_CREATE",
    "payload": {
        "title": "Сделать отчет",
        "dueDate": "2025-12-31T18:00:00Z"
    }
}'
```

**Пример ответа (JSON) `200 OK`:**

```json
{
    "success": true,
    "data": "a1b2c3d4-e5f6-7890-1234-56789abcdef0",
    "meta": {
        "requestId": "0HNIRSRD3RVBC:00000001",
        "timestamp": "2026-01-25T14:15:00.1234567+00:00"
    }
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                                                                      |
| ------------------ | ------- | ----------------------------------------------------------------------------- |
| **success**        | boolean | Флаг успешности запроса                                                       |
| **data**           | string  | UUID редактируемого запроса                                                   |
| **meta.requestId** | string  | Уникальный ID запроса                                                         |
| **meta.timestamp** | string  | Время формирования ответа (ISO 8601)                                          |

**Блок ошибок:**

| HTTP статус | `error.code`            | `error.message`                                  | Описание                              |
| ----------- | ----------------------- | ------------------------------------------------ | ------------------------------------- |
| 400         | `INVALID_PARAMS`        | "Неверный формат commandRequestId"               | Некорректный GUID.                    |
| 401         | `UNAUTHORIZED`          | "Требуется авторизация"                          | Отсутствует или недействителен токен. |
| 403         | `FORBIDDEN`             | "Нет доступа к этому запросу"                    | Попытка подтвердить чужой запрос.     |
| 404         | `NOT_FOUND`             | "Запрос с указанным ID не найден"                | `commandRequestId` не существует.     |
| 409         | `ALREADY_CONFIRMED`     | "Запрос уже подтверждён"                         | Повторный вызов confirm.              |
| 409         | `CANCELLED`             | "Запрос был отменён и не может быть подтверждён" | Запрос ранее отменён.                 |
| 500         | `INTERNAL_SERVER_ERROR` | "Внутренняя ошибка сервера"                      | Неожиданная ошибка сервера.           |


---
### 3.4. Подтверждение голосового запроса

#### `POST /api/v1/tasks/voice/requests/{commandRequestId}/confirm`

**Описание:**  
Подтверждает обработанный голосовой запрос. Если команда успешно выполнена (создание, редактирование или удаление задачи), в ответе возвращается UUID задачи.

**Параметры запроса (path):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|commandRequestId|string (GUID)|да|UUID голосового запроса|

**Пример запроса (cURL):**

```bash
curl --location --request POST 'https://api.com/api/v1/tasks/voice/requests/a1b2c3d4-e5f6-7890-1234-56789abcdef0/confirm' \
--header 'Authorization: Bearer <access_token>'
```

**Пример ответа (JSON) `200 OK`:**

```json
{
    "success": true,
    "data": {
        "commandRequestId": "a1b2c3d4-e5f6-7890-1234-56789abcdef0",
        "intent": "TASK_CREATE",
        "taskId": "7f3b8893-ac1e-476b-82c1-196065d75fd9"
    },
    "meta": {
        "requestId": "0HNIRSRD3RVBD:00000001",
        "timestamp": "2026-01-25T14:45:00.1234567+00:00"
    }
}
```

**Поля ответа:**

|Поле|Тип|Описание|
|---|---|---|
|**success**|boolean|Флаг успешности запроса|
|**data.commandRequestId**|string|UUID подтверждаемого запроса|
|**data.intent**|string|Намерение запроса (`TASK_CREATE`, `TASK_UPDATE`, `TASK_DELETE`, `TASK_QUERY`)|
|**data.taskId**|string|UUID задачи, если действие выполнено (создание, редактирование, удаление). Может быть `null` для `TASK_QUERY`, `UNKNOWN` или `AMBIGUOUS`.|
|**meta.requestId**|string|Уникальный ID запроса|
|**meta.timestamp**|string|Время формирования ответа (ISO 8601)|

**Блок ошибок:**

|HTTP статус|`error.code`|`error.message`|Описание|
|---|---|---|---|
|400|`INVALID_PARAMS`|"Неверный формат commandRequestId"|Некорректный UUID.|
|401|`UNAUTHORIZED`|"Требуется авторизация"|Отсутствует или недействителен токен.|
|403|`FORBIDDEN`|"Нет доступа к этому запросу"|Попытка подтвердить чужой запрос.|
|404|`NOT_FOUND`|"Запрос с указанным ID не найден"|`commandRequestId` не существует.|
|409|`ALREADY_CONFIRMED`|"Запрос уже подтверждён"|Повторный вызов confirm.|
|409|`CANCELLED`|"Запрос был отменён и не может быть подтверждён"|Запрос ранее отменён.|
|500|`INTERNAL_SERVER_ERROR`|"Внутренняя ошибка сервера"|Неожиданная ошибка сервера.|

---
### 3.5. Отмена голосового запроса

#### `DELETE /api/v1/tasks/voice/requests/{commandRequestId}`

**Описание:**  
Отменяет существующий голосовой запрос. Задача при этом **не создаётся**, taskId отсутствует. После отмены запрос больше не может быть подтверждён.

**Параметры запроса (path):**

|Параметр|Тип|Обязательный|Описание|
|---|---|---|---|
|commandRequestId|string (GUID)|да|UUID голосового запроса|

**Пример запроса (cURL):**

```bash
curl --location --request DELETE 'https://api.com/api/v1/tasks/voice/requests/a1b2c3d4-e5f6-7890-1234-56789abcdef0' \
--header 'Authorization: Bearer <access_token>'
```

**Пример ответа (JSON) `200 OK`:**

```json
{
    "success": true,
    "data": "a1b2c3d4-e5f6-7890-1234-56789abcdef0",
    "meta": {
        "requestId": "0HNIRSRD3RVBF:00000001",
        "timestamp": "2026-01-25T15:45:00.1234567+00:00"
    }
}
```

**Поля ответа:**

| Поле               | Тип     | Описание                             |
| ------------------ | ------- | ------------------------------------ |
| **success**        | boolean | Флаг успешности запроса              |
| **data**           | string  | UUID отменённого голосового запроса  |
| **meta.requestId** | string  | Уникальный ID запроса                |
| **meta.timestamp** | string  | Время формирования ответа (ISO 8601) |

**Блок ошибок:**

|HTTP статус|`error.code`|`error.message`|Описание|
|---|---|---|---|
|400|`INVALID_PARAMS`|"Неверный формат commandRequestId"|Некорректный UUID.|
|401|`UNAUTHORIZED`|"Требуется авторизация"|Отсутствует или недействителен токен.|
|403|`FORBIDDEN`|"Нет доступа к этому запросу"|Попытка отменить чужой запрос.|
|404|`NOT_FOUND`|"Запрос с указанным ID не найден"|`commandRequestId` не существует.|
|409|`ALREADY_CONFIRMED`|"Запрос уже подтверждён и не может быть отменён"|Запрос уже подтверждён.|
|409|`CANCELLED`|"Запрос уже отменён"|Запрос ранее отменён.|
|500|`INTERNAL_SERVER_ERROR`|"Внутренняя ошибка сервера"|Неожиданная ошибка сервера.|

---
# Тестирование API

### Регистрация пользователя

#### `POST /api/v1/auth/register`

```bash
curl --location 'http://localhost:3000/api/v1/auth/register' \
--header 'Content-Type: application/json' \
--data-raw '{
    "UserName": "testuser",
    "Email": "test@example.com",
    "Password": "Password123!",
    "Name": "Test User"
}'
```

![Регистрация пользователя](images/Pasted%20image%2020260127122047.png)

### Получение токена доступа пользователя
#### `POST /api/v1/auth/login`

```bash
curl --location 'http://localhost:3000/api/v1/auth/login' \
--header 'Content-Type: application/json' \
--data '{
    "Username": "testuser",
    "Password": "Password123!"
}'
```

![Получение токена](images/Pasted%20image%2020260127122124.png)

### Создание задачи вручную
#### `POST /api/v1/tasks`

```bash
curl --location 'http://localhost:3000/api/v1/tasks' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InRlc3R1c2VyIiwicm9sZSI6IlVzZXIiLCJuYW1laWQiOiI2NmFlYTgyYi1iODVmLTQwZGEtOWY0Ni1hOTg3NzE5ZGYzMjUiLCJuYmYiOjE3Njk0OTgyODAsImV4cCI6MTc2OTUwMTg4MCwiaWF0IjoxNzY5NDk4MjgwLCJpc3MiOiJUYXNrTWFuYWdlciIsImF1ZCI6IlRhc2tNYW5hZ2VyVXNlcnMifQ.eM08L2MRrAGzQ9de2S4kjQ5cCmtOGdXFL7rugLRPpBg' \
--data '{
	"projectName": "Проект А",
	"title": "Сделать отчет",
	"description": "Подготовить отчет по лабораторной работе",
	"status": "new",
	"priority": "high",
	"dueDate": "2025-12-30T18:00:00Z",
    "tags": "asd"
}'
```

![Создание задачи](images/Pasted%20image%2020260127122207.png)

### Получить список всех задач (с фильтрацией)

#### `GET /api/v1/tasks`

```bash
curl --location 'http://localhost:3000/api/v1/tasks?sortBy=ownerId&sortOrder=DESC&limit=5&page=0' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InRlc3R1c2VyIiwicm9sZSI6IlVzZXIiLCJuYW1laWQiOiI2NmFlYTgyYi1iODVmLTQwZGEtOWY0Ni1hOTg3NzE5ZGYzMjUiLCJuYmYiOjE3Njk0OTgyODAsImV4cCI6MTc2OTUwMTg4MCwiaWF0IjoxNzY5NDk4MjgwLCJpc3MiOiJUYXNrTWFuYWdlciIsImF1ZCI6IlRhc2tNYW5hZ2VyVXNlcnMifQ.eM08L2MRrAGzQ9de2S4kjQ5cCmtOGdXFL7rugLRPpBg'
```

![Список задач](images/Pasted%20image%2020260127122300.png)

### Обновление задачи вручную

#### `PUT /api/v1/tasks/{taskId}`

```bash
curl --location --request PUT 'http://localhost:3000/api/v1/tasks/66ae937a-14e0-4073-8c12-c9eb88fb1c57' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InRlc3R1c2VyIiwicm9sZSI6IlVzZXIiLCJuYW1laWQiOiI2NmFlYTgyYi1iODVmLTQwZGEtOWY0Ni1hOTg3NzE5ZGYzMjUiLCJuYmYiOjE3Njk0OTgyODAsImV4cCI6MTc2OTUwMTg4MCwiaWF0IjoxNzY5NDk4MjgwLCJpc3MiOiJUYXNrTWFuYWdlciIsImF1ZCI6IlRhc2tNYW5hZ2VyVXNlcnMifQ.eM08L2MRrAGzQ9de2S4kjQ5cCmtOGdXFL7rugLRPpBg' \
--data '{
	"projectName": "Проект А",
	"title": "Сделать отчет",
	"description": "Подготовить отчет по лабораторной работе",
	"status": "new",
	"priority": "high",
	"dueDate": "2025-12-30T18:00:00Z",
    "tags": "asd ear",
    "parentTaskId": null
}'
```

![Обновление задачи PUT](images/Pasted%20image%2020260127122556.png)

### Частичное обновление задачи

#### `PATCH /api/v1/tasks/{taskId}`

```bash
curl --location --request PATCH 'http://localhost:3000/api/v1/tasks/66ae937a-14e0-4073-8c12-c9eb88fb1c57' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InRlc3R1c2VyIiwicm9sZSI6IlVzZXIiLCJuYW1laWQiOiI2NmFlYTgyYi1iODVmLTQwZGEtOWY0Ni1hOTg3NzE5ZGYzMjUiLCJuYmYiOjE3Njk0OTgyODAsImV4cCI6MTc2OTUwMTg4MCwiaWF0IjoxNzY5NDk4MjgwLCJpc3MiOiJUYXNrTWFuYWdlciIsImF1ZCI6IlRhc2tNYW5hZ2VyVXNlcnMifQ.eM08L2MRrAGzQ9de2S4kjQ5cCmtOGdXFL7rugLRPpBg' \
--data '{
	"projectName": "Проект B",
    "tags": "asd ear sde"
}'
```

![Частичное обновление PATCH](images/Pasted%20image%2020260127122528.png)

### Получить одну задачу

#### `GET /api/v1/tasks/{taskId}`

```bash
curl --location 'http://localhost:3000/api/v1/tasks/66ae937a-14e0-4073-8c12-c9eb88fb1c57' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InRlc3R1c2VyIiwicm9sZSI6IlVzZXIiLCJuYW1laWQiOiI2NmFlYTgyYi1iODVmLTQwZGEtOWY0Ni1hOTg3NzE5ZGYzMjUiLCJuYmYiOjE3Njk0OTgyODAsImV4cCI6MTc2OTUwMTg4MCwiaWF0IjoxNzY5NDk4MjgwLCJpc3MiOiJUYXNrTWFuYWdlciIsImF1ZCI6IlRhc2tNYW5hZ2VyVXNlcnMifQ.eM08L2MRrAGzQ9de2S4kjQ5cCmtOGdXFL7rugLRPpBg'
```

![Получение одной задачи](images/Pasted%20image%2020260127122708.png)
### Удаление задачи

#### `DELETE /api/v1/tasks/{taskId}`

```bash
curl --location --request DELETE 'http://localhost:3000/api/v1/tasks/66ae937a-14e0-4073-8c12-c9eb88fb1c57' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InRlc3R1c2VyIiwicm9sZSI6IlVzZXIiLCJuYW1laWQiOiI2NmFlYTgyYi1iODVmLTQwZGEtOWY0Ni1hOTg3NzE5ZGYzMjUiLCJuYmYiOjE3Njk0OTgyODAsImV4cCI6MTc2OTUwMTg4MCwiaWF0IjoxNzY5NDk4MjgwLCJpc3MiOiJUYXNrTWFuYWdlciIsImF1ZCI6IlRhc2tNYW5hZ2VyVXNlcnMifQ.eM08L2MRrAGzQ9de2S4kjQ5cCmtOGdXFL7rugLRPpBg'
```

![Удаление задачи](images/Pasted%20image%2020260127122808.png)

